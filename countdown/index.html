<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Countdown</title>
    <meta name="author" description="Adam Crofts">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../js/jquery-3.4.1.min.js"></script>
    <script src="../js/bootstrap.js"></script>
    <script src="../js/bootstrap.bundle.js"></script>
    <script src="../js/fontawesome.js"></script>
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../css/fontawesome.css" rel="stylesheet">
    <link href="../css/bootstrap-grid.css" rel="stylesheet">
    <link href="../css/bootstrap-reboot.css" rel="stylesheet">

    <script>
        var weddingDate = new Date("Sept 2, 2022 14:00:00").getTime();
        var holidayDate = new Date("Oct 10, 2022 10:00:00").getTime();

        var timer = setInterval(function () {
            var now = new Date().getTime();

            var weddingDistance = weddingDate - now;
            var holidayDistance = holidayDate - now;

            var weddingDays = Math.floor(weddingDistance / (1000 * 60 * 60 * 24));
            var weddingHours = Math.floor((weddingDistance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var weddingMinutes = Math.floor((weddingDistance % (1000 * 60 * 60)) / (1000 * 60));
            var weddingSeconds = Math.floor((weddingDistance % (1000 * 60)) / 1000);

            document.getElementById("weddingDays").innerHTML = weddingDays;
            document.getElementById("weddingHours").innerHTML = weddingHours;
            document.getElementById("weddingMinutes").innerHTML = weddingMinutes;
            document.getElementById("weddingSeconds").innerHTML = weddingSeconds;

            if (weddingDistance < 0) {
                clearInterval(x);
                document.getElementById("weddingDays").innerHTML = 0;
                document.getElementById("weddingHours").innerHTML = 0;
                document.getElementById("weddingMinutes").innerHTML = 0;
                document.getElementById("weddingSeconds").innerHTML = 0;
            }

            var holidayDays = Math.floor(holidayDistance / (1000 * 60 * 60 * 24));
            var holidayHours = Math.floor((holidayDistance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var holidayMinutes = Math.floor((holidayDistance % (1000 * 60 * 60)) / (1000 * 60));
            var holidaySeconds = Math.floor((holidayDistance % (1000 * 60)) / 1000);

            document.getElementById("holidayDays").innerHTML = holidayDays;
            document.getElementById("holidayHours").innerHTML = holidayHours;
            document.getElementById("holidayMinutes").innerHTML = holidayMinutes;
            document.getElementById("holidaySeconds").innerHTML = holidaySeconds;

            if (weddingDistance < 0) {
                clearInterval(x);
                document.getElementById("holidayDays").innerHTML = 0;
                document.getElementById("holidayHours").innerHTML = 0;
                document.getElementById("holidayMinutes").innerHTML = 0;
                document.getElementById("holidaySeconds").innerHTML = 0;
            }

        }, 1000);

        var httpRequest = new XMLHttpRequest();

       httpRequest.onreadystatechange = function() {
           if(this.readyState == 4 && this.status == 200) {
               console.log(this.responseText);
           }
       }

        httpRequest.open("GET", "http://localhost:8080/weather");

        httpRequest.send();

        var weatherSettings = {
            // "async": true,
            // "crossDomain": false,
            "url": "localhost:8080/weather",
            "method": "GET",
            // "origin": "http://localhost:80",
            // "mode": "cors",
            // "dataType": "json",
            // "headers": {
            //     "accept": "application/json",
            //     "Access-Control-Allow-Origin": "*",
            // }          
        };

        // $.ajax(weatherSettings).done(function (response) {
        //     console.log(response);
        // });

        // const xhr = new XMLHttpRequest();
        // const url = 'http://ws1.metcheck.com/ENGINE/v9_0/json.asp?lat=50.9&lon=-3.3&lid=58945&Fc=No';

        // xhr.open('GET', url);
        // xhr.onreadystatechange = someHandler;
        // xhr.send();

        // var weather = fetch("http://ws1.metcheck.com/ENGINE/v9_0/json.asp?lat=50.9&lon=-3.3&lid=58945&Fc=No");
        // console.log(weather);

    </script>

</head>

<body style="background-image: url(img/img1.jpg);">
    <p id="wedding"></p>
    <p id="holiday"></p>
    <div class="container" >
        <div class="card" style="background: rgba(255, 255, 255, 0.3);">
            <div class="card-title text-center" >
                <h2>Wedding In:</h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col text-center">
                        <h3>Days</h3>
                    </div>
                    <div class="col text-center">
                        <h3>Hours</h3>
                    </div>
                    <div class="col text-center">
                        <h3>Minutes</h3>
                    </div>
                    <div class="col text-center">
                        <h3>Seconds</h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col text-center">
                        <h3 id="weddingDays"></h3>
                    </div>
                    <div class="col text-center">
                        <h3 id="weddingHours"></h3>
                    </div>
                    <div class="col text-center">
                        <h3 id="weddingMinutes"></h3>
                    </div>
                    <div class="col text-center">
                        <h3 id="weddingSeconds"></h3>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <br />
    <div class="container">
        <div class="card" style="background: rgba(255, 255, 255, 0.3);">
            <div class="card-title text-center">
                <h2>Honeymoon In:</h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col text-center">
                        <h3>Days</h3>
                    </div>
                    <div class="col text-center">
                        <h3>Hours</h3>
                    </div>
                    <div class="col text-center">
                        <h3>Minutes</h3>
                    </div>
                    <div class="col text-center">
                        <h3>Seconds</h3>
                    </div>
                </div>
                <div class="row">
                    <div class="col text-center">
                        <h3 id="holidayDays"></h3>
                    </div>
                    <div class="col text-center">
                        <h3 id="holidayHours"></h3>
                    </div>
                    <div class="col text-center">
                        <h3 id="holidayMinutes"></h3>
                    </div>
                    <div class="col text-center">
                        <h3 id="holidaySeconds"></h3>
                    </div>
                </div>


            </div>
</body>